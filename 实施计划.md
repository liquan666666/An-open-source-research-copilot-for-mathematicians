# åŠŸèƒ½å®Œæ•´å®ç°è®¡åˆ’

å°†æ‰€æœ‰æ¨¡æ‹ŸåŠŸèƒ½æ”¹é€ ä¸ºçœŸå®å¯ç”¨çš„åŠŸèƒ½

---

## ğŸ“‹ æ€»ä½“æ¶æ„

### æŠ€æœ¯æ ˆé€‰æ‹©

**åç«¯**ï¼š
- âœ… FastAPIï¼ˆå·²æœ‰ï¼‰
- æ–°å¢ï¼šSQLAlchemyï¼ˆORMï¼‰
- æ–°å¢ï¼šAlembicï¼ˆæ•°æ®åº“è¿ç§»ï¼‰
- æ–°å¢ï¼šJWT è®¤è¯

**æ•°æ®åº“**ï¼š
- é€‰é¡¹ 1ï¼šSQLiteï¼ˆå¼€å‘/å°è§„æ¨¡ï¼‰
- é€‰é¡¹ 2ï¼šPostgreSQLï¼ˆç”Ÿäº§æ¨èï¼‰

**AI æœåŠ¡**ï¼š
- OpenAI APIï¼ˆè®ºæ–‡åˆ†æã€æ¨èç”Ÿæˆï¼‰
- æˆ– Claude APIï¼ˆæ›´é€‚åˆé•¿æ–‡æœ¬åˆ†æï¼‰

---

## ğŸ¯ å®æ–½é˜¶æ®µ

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€è®¾æ–½ï¼ˆ1-2å¤©ï¼‰

#### 1. æ•°æ®åº“è®¾è®¡ä¸åˆå§‹åŒ–

**éœ€è¦åˆ›å»ºçš„è¡¨**ï¼š

```sql
-- ç”¨æˆ·è¡¨
users (
    id INTEGER PRIMARY KEY,
    email VARCHAR UNIQUE NOT NULL,
    password_hash VARCHAR NOT NULL,
    name VARCHAR,
    created_at TIMESTAMP,
    updated_at TIMESTAMP
)

-- ç ”ç©¶å…´è¶£è¡¨
research_interests (
    id INTEGER PRIMARY KEY,
    user_id INTEGER FOREIGN KEY,
    topic VARCHAR NOT NULL,
    description TEXT,
    level VARCHAR,  -- beginner/intermediate/advanced
    priority VARCHAR,  -- high/medium/low
    created_at TIMESTAMP
)

-- ä»»åŠ¡è¡¨
tasks (
    id INTEGER PRIMARY KEY,
    user_id INTEGER FOREIGN KEY,
    title VARCHAR NOT NULL,
    description TEXT,
    priority VARCHAR,  -- high/medium/low
    status VARCHAR,  -- pending/in_progress/completed
    due_date TIMESTAMP,
    completed_at TIMESTAMP,
    created_at TIMESTAMP,
    updated_at TIMESTAMP
)

-- æ‰“å¡è®°å½•è¡¨
checkins (
    id INTEGER PRIMARY KEY,
    user_id INTEGER FOREIGN KEY,
    date DATE NOT NULL,
    mood VARCHAR,  -- happy/neutral/frustrated/tired
    content TEXT,
    difficulties TEXT,
    tasks_completed INTEGER,
    tasks_total INTEGER,
    created_at TIMESTAMP
)

-- è®ºæ–‡æ”¶è—è¡¨
saved_papers (
    id INTEGER PRIMARY KEY,
    user_id INTEGER FOREIGN KEY,
    paper_id VARCHAR NOT NULL,
    title VARCHAR,
    authors TEXT,
    abstract TEXT,
    source VARCHAR,  -- arxiv/crossref
    url VARCHAR,
    saved_at TIMESTAMP,
    notes TEXT
)

-- å­¦ä¹ è·¯çº¿å›¾è¡¨
roadmaps (
    id INTEGER PRIMARY KEY,
    user_id INTEGER FOREIGN KEY,
    topic_id INTEGER FOREIGN KEY,
    title VARCHAR NOT NULL,
    description TEXT,
    duration_weeks INTEGER,
    status VARCHAR,  -- active/completed/archived
    created_at TIMESTAMP,
    updated_at TIMESTAMP
)

-- è·¯çº¿å›¾é˜¶æ®µè¡¨
roadmap_stages (
    id INTEGER PRIMARY KEY,
    roadmap_id INTEGER FOREIGN KEY,
    stage_number INTEGER,
    title VARCHAR NOT NULL,
    description TEXT,
    start_week INTEGER,
    end_week INTEGER,
    status VARCHAR  -- pending/in_progress/completed
)

-- è·¯çº¿å›¾é¡¹ç›®è¡¨
roadmap_items (
    id INTEGER PRIMARY KEY,
    stage_id INTEGER FOREIGN KEY,
    title VARCHAR NOT NULL,
    description TEXT,
    estimated_hours INTEGER,
    resources TEXT,  -- JSON array
    completed BOOLEAN DEFAULT FALSE
)

-- è®¢é˜…è¡¨ï¼ˆå¢å¼ºç‰ˆï¼‰
subscriptions (
    id INTEGER PRIMARY KEY,
    user_id INTEGER FOREIGN KEY,
    stripe_customer_id VARCHAR,
    stripe_subscription_id VARCHAR,
    plan VARCHAR,  -- trial/monthly/yearly/lifetime
    status VARCHAR,  -- active/canceled/expired
    start_date TIMESTAMP,
    end_date TIMESTAMP,
    created_at TIMESTAMP,
    updated_at TIMESTAMP
)

-- ç”¨æˆ·è¡Œä¸ºåˆ†æè¡¨
user_activities (
    id INTEGER PRIMARY KEY,
    user_id INTEGER FOREIGN KEY,
    activity_type VARCHAR,  -- page_view/search/task_complete/checkinç­‰
    activity_data TEXT,  -- JSON
    created_at TIMESTAMP
)
```

**å®æ–½æ–‡ä»¶**ï¼š
- `apps/api/server/db/models.py` - SQLAlchemy æ¨¡å‹å®šä¹‰
- `apps/api/server/db/database.py` - æ•°æ®åº“è¿æ¥é…ç½®
- `apps/api/alembic/` - æ•°æ®åº“è¿ç§»æ–‡ä»¶

**é¢„ä¼°å·¥ä½œé‡**ï¼š4-6 å°æ—¶

---

#### 2. ç”¨æˆ·è®¤è¯ç³»ç»Ÿ

**éœ€è¦å®ç°çš„åŠŸèƒ½**ï¼š
- ç”¨æˆ·æ³¨å†Œ
- ç”¨æˆ·ç™»å½•
- JWT Token ç”Ÿæˆå’ŒéªŒè¯
- å¯†ç åŠ å¯†ï¼ˆbcryptï¼‰
- Token åˆ·æ–°æœºåˆ¶
- ç™»å‡ºåŠŸèƒ½

**API ç«¯ç‚¹**ï¼š
```
POST /auth/register - ç”¨æˆ·æ³¨å†Œ
POST /auth/login - ç”¨æˆ·ç™»å½•
POST /auth/refresh - åˆ·æ–° Token
POST /auth/logout - ç™»å‡º
GET /auth/me - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
```

**å®æ–½æ–‡ä»¶**ï¼š
- `apps/api/server/routes/auth.py` - è®¤è¯è·¯ç”±
- `apps/api/server/auth/jwt.py` - JWT å·¥å…·å‡½æ•°
- `apps/api/server/auth/password.py` - å¯†ç åŠ å¯†å·¥å…·
- `apps/api/server/middleware/auth.py` - è®¤è¯ä¸­é—´ä»¶

**å‰ç«¯ä¿®æ”¹**ï¼š
- `apps/web/lib/auth.ts` - è®¤è¯å·¥å…·å‡½æ•°
- `apps/web/app/login/page.tsx` - ç™»å½•é¡µé¢
- `apps/web/app/register/page.tsx` - æ³¨å†Œé¡µé¢
- `apps/web/components/AuthProvider.tsx` - è®¤è¯ä¸Šä¸‹æ–‡

**é¢„ä¼°å·¥ä½œé‡**ï¼š6-8 å°æ—¶

---

### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½å®ç°ï¼ˆ3-5å¤©ï¼‰

#### 3. ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ

**åç«¯ API**ï¼š
```
GET /tasks - è·å–ä»»åŠ¡åˆ—è¡¨ï¼ˆæ”¯æŒç­›é€‰ã€åˆ†é¡µï¼‰
POST /tasks - åˆ›å»ºæ–°ä»»åŠ¡
GET /tasks/{id} - è·å–ä»»åŠ¡è¯¦æƒ…
PUT /tasks/{id} - æ›´æ–°ä»»åŠ¡
DELETE /tasks/{id} - åˆ é™¤ä»»åŠ¡
PATCH /tasks/{id}/complete - æ ‡è®°ä»»åŠ¡å®Œæˆ
PATCH /tasks/{id}/uncomplete - æ ‡è®°ä»»åŠ¡æœªå®Œæˆ
GET /tasks/stats - è·å–ä»»åŠ¡ç»Ÿè®¡
```

**å‰ç«¯ä¿®æ”¹**ï¼š
- `apps/web/app/tasks/page.tsx` - è¿æ¥çœŸå® API
- `apps/web/lib/tasks.ts` - ä»»åŠ¡ç®¡ç†å·¥å…·å‡½æ•°
- `apps/web/components/TaskForm.tsx` - ä»»åŠ¡è¡¨å•ç»„ä»¶

**å®æ–½æ–‡ä»¶**ï¼š
- `apps/api/server/routes/tasks.py` - æ›´æ–°ä¸ºå®Œæ•´ CRUD
- `apps/api/server/db/models.py` - æ·»åŠ  Task æ¨¡å‹

**é¢„ä¼°å·¥ä½œé‡**ï¼š4-6 å°æ—¶

---

#### 4. æ‰“å¡ç³»ç»Ÿ

**åç«¯ API**ï¼š
```
GET /checkins - è·å–æ‰“å¡å†å²
POST /checkins - æäº¤ä»Šæ—¥æ‰“å¡
GET /checkins/today - è·å–ä»Šæ—¥æ‰“å¡
GET /checkins/stats - è·å–æ‰“å¡ç»Ÿè®¡
GET /checkins/streak - è·å–è¿ç»­æ‰“å¡å¤©æ•°
GET /checkins/calendar/{year}/{month} - è·å–æœˆåº¦æ‰“å¡æ—¥å†
```

**ç»Ÿè®¡æŒ‡æ ‡**ï¼š
- è¿ç»­æ‰“å¡å¤©æ•°
- æ€»æ‰“å¡å¤©æ•°
- å¹³å‡å®Œæˆç‡
- å¿ƒæƒ…åˆ†å¸ƒ
- æœˆåº¦æ‰“å¡æ—¥å†

**å‰ç«¯ä¿®æ”¹**ï¼š
- `apps/web/app/checkin/page.tsx` - è¿æ¥çœŸå® API
- `apps/web/lib/checkins.ts` - æ‰“å¡å·¥å…·å‡½æ•°
- `apps/web/components/CheckinCalendar.tsx` - æ‰“å¡æ—¥å†ç»„ä»¶

**å®æ–½æ–‡ä»¶**ï¼š
- `apps/api/server/routes/checkins.py` - æ›´æ–°ä¸ºå®Œæ•´åŠŸèƒ½
- `apps/api/server/db/models.py` - æ·»åŠ  Checkin æ¨¡å‹

**é¢„ä¼°å·¥ä½œé‡**ï¼š4-6 å°æ—¶

---

#### 5. ç”¨æˆ·èµ„æ–™ç®¡ç†

**åç«¯ API**ï¼š
```
GET /profile - è·å–ç”¨æˆ·èµ„æ–™
PUT /profile - æ›´æ–°ç”¨æˆ·èµ„æ–™
GET /profile/interests - è·å–ç ”ç©¶å…´è¶£
POST /profile/interests - æ·»åŠ ç ”ç©¶å…´è¶£
PUT /profile/interests/{id} - æ›´æ–°ç ”ç©¶å…´è¶£
DELETE /profile/interests/{id} - åˆ é™¤ç ”ç©¶å…´è¶£
GET /profile/subscription - è·å–è®¢é˜…ä¿¡æ¯ï¼ˆä¸ Stripe é›†æˆï¼‰
```

**å‰ç«¯ä¿®æ”¹**ï¼š
- `apps/web/app/account/page.tsx` - è¿æ¥çœŸå® API
- `apps/web/lib/profile.ts` - èµ„æ–™ç®¡ç†å·¥å…·å‡½æ•°
- ç§»é™¤ localStorage ä¾èµ–

**å®æ–½æ–‡ä»¶**ï¼š
- `apps/api/server/routes/profile.py` - æ›´æ–°ä¸ºå®Œæ•´åŠŸèƒ½
- `apps/api/server/db/models.py` - æ·»åŠ  ResearchInterest æ¨¡å‹

**é¢„ä¼°å·¥ä½œé‡**ï¼š3-4 å°æ—¶

---

#### 6. è®ºæ–‡æ”¶è—åŠŸèƒ½

**åç«¯ API**ï¼š
```
GET /papers/saved - è·å–æ”¶è—çš„è®ºæ–‡
POST /papers/saved - æ”¶è—è®ºæ–‡
DELETE /papers/saved/{id} - å–æ¶ˆæ”¶è—
PUT /papers/saved/{id}/notes - æ·»åŠ ç¬”è®°
GET /papers/saved/tags - è·å–æ‰€æœ‰æ ‡ç­¾
```

**å‰ç«¯ä¿®æ”¹**ï¼š
- `apps/web/app/papers/page.tsx` - æ·»åŠ æ”¶è—æŒ‰é’®
- `apps/web/app/saved-papers/page.tsx` - æ–°å»ºæ”¶è—é¡µé¢
- `apps/web/lib/papers.ts` - è®ºæ–‡ç®¡ç†å·¥å…·å‡½æ•°

**å®æ–½æ–‡ä»¶**ï¼š
- `apps/api/server/routes/papers.py` - æ·»åŠ æ”¶è—ç›¸å…³ç«¯ç‚¹
- `apps/api/server/db/models.py` - æ·»åŠ  SavedPaper æ¨¡å‹

**é¢„ä¼°å·¥ä½œé‡**ï¼š3-4 å°æ—¶

---

### ç¬¬ä¸‰é˜¶æ®µï¼šæ™ºèƒ½åŠŸèƒ½ï¼ˆ5-7å¤©ï¼‰

#### 7. æ™ºèƒ½è®ºæ–‡åˆ†æï¼ˆAI é›†æˆï¼‰

**éœ€è¦çš„ AI èƒ½åŠ›**ï¼š
- è®ºæ–‡æ‘˜è¦æ€»ç»“
- å…³é”®è´¡çŒ®æå–
- æ–¹æ³•è®ºåˆ†æ
- å±€é™æ€§è¯†åˆ«
- ç›¸å…³æ¦‚å¿µæå–

**API é€‰æ‹©**ï¼š
- **OpenAI GPT-4**ï¼šé€šç”¨æ€§å¥½ï¼Œæˆæœ¬é€‚ä¸­
- **Claude 3.5 Sonnet**ï¼šæ›´é€‚åˆé•¿æ–‡æœ¬ï¼Œç†è§£æ·±åº¦å¥½
- **æœ¬åœ°æ¨¡å‹**ï¼šLlama 3ï¼ˆéœ€è¦ GPUï¼‰

**åç«¯ API**ï¼š
```
POST /papers/analyze - åˆ†æè®ºæ–‡
  è¯·æ±‚ä½“ï¼š{
    "arxiv_id": "2301.12345",  // æˆ–
    "doi": "10.1234/xxx",  // æˆ–
    "pdf_url": "https://...",  // æˆ–
    "text_content": "è®ºæ–‡å…¨æ–‡"
  }

  å“åº”ï¼š{
    "summary": "è®ºæ–‡æ‘˜è¦",
    "key_contributions": ["è´¡çŒ®1", "è´¡çŒ®2"],
    "methodology": ["æ–¹æ³•1", "æ–¹æ³•2"],
    "results": ["ç»“æœ1", "ç»“æœ2"],
    "limitations": ["å±€é™1", "å±€é™2"],
    "concepts": [
      {"name": "æ¦‚å¿µ1", "relevance": 0.95},
      {"name": "æ¦‚å¿µ2", "relevance": 0.87}
    ]
  }

POST /papers/compare - å¯¹æ¯”è®ºæ–‡
POST /papers/summarize - æ‰¹é‡æ€»ç»“
```

**å‰ç«¯ä¿®æ”¹**ï¼š
- `apps/web/app/paper-assistant/page.tsx` - è¿æ¥çœŸå® API
- æ·»åŠ è®ºæ–‡ä¸Šä¼ åŠŸèƒ½
- æ·»åŠ  arXiv ID è¾“å…¥
- æ·»åŠ  DOI è¾“å…¥

**å®æ–½æ–‡ä»¶**ï¼š
- `apps/api/server/routes/papers.py` - æ·»åŠ åˆ†æç«¯ç‚¹
- `apps/api/server/services/ai_analysis.py` - AI åˆ†ææœåŠ¡
- `apps/api/server/services/pdf_parser.py` - PDF è§£æå·¥å…·

**ç¯å¢ƒå˜é‡**ï¼š
```
OPENAI_API_KEY=sk-xxx
# æˆ–
ANTHROPIC_API_KEY=sk-ant-xxx
```

**é¢„ä¼°å·¥ä½œé‡**ï¼š8-12 å°æ—¶

---

#### 8. æ™ºèƒ½è¯¾é¢˜æ¨è

**æ¨èç®—æ³•**ï¼š
- åŸºäºç”¨æˆ·ç ”ç©¶å…´è¶£
- åŸºäºå·²æ”¶è—è®ºæ–‡
- åŸºäºä»»åŠ¡å’Œæ‰“å¡è®°å½•
- åŸºäºå½“å‰çƒ­é—¨ç ”ç©¶æ–¹å‘

**æ•°æ®æ¥æº**ï¼š
- arXiv æœ€æ–°è®ºæ–‡
- ç”¨æˆ·è¡Œä¸ºæ•°æ®
- è®ºæ–‡å¼•ç”¨å…³ç³»
- AI ç”Ÿæˆçš„æ¨è

**åç«¯ API**ï¼š
```
GET /topics/recommend - è·å–æ¨èè¯¾é¢˜
  å‚æ•°ï¼š
    - limit: æ¨èæ•°é‡
    - level: éš¾åº¦ç­‰çº§

  å“åº”ï¼š{
    "recommendations": [
      {
        "title": "è¯¾é¢˜æ ‡é¢˜",
        "description": "è¯¾é¢˜æè¿°",
        "level": "intermediate",
        "duration_weeks": 12,
        "related_papers_count": 23,
        "related_papers": [...],
        "prerequisites": ["prerequisite1", "prerequisite2"],
        "key_questions": ["question1", "question2"],
        "reason": "æ¨èç†ç”±ï¼ˆåŸºäºæ‚¨çš„å…´è¶£ï¼šæ‹“æ‰‘å­¦ï¼‰"
      }
    ]
  }

POST /topics - åˆ›å»ºè‡ªå®šä¹‰è¯¾é¢˜
GET /topics/{id} - è·å–è¯¾é¢˜è¯¦æƒ…
POST /topics/{id}/select - é€‰æ‹©è¯¾é¢˜ï¼ˆç”Ÿæˆè·¯çº¿å›¾ï¼‰
```

**æ¨èç­–ç•¥**ï¼š
1. åˆ†æç”¨æˆ·ç ”ç©¶å…´è¶£å…³é”®è¯
2. æœç´¢ç›¸å…³é¢†åŸŸæœ€æ–°è®ºæ–‡
3. ä½¿ç”¨ AI ç”Ÿæˆè¯¾é¢˜å»ºè®®
4. æŒ‰ç›¸å…³åº¦ã€éš¾åº¦ã€çƒ­åº¦æ’åº

**å‰ç«¯ä¿®æ”¹**ï¼š
- `apps/web/app/topics/page.tsx` - è¿æ¥çœŸå® API
- æ·»åŠ åˆ·æ–°æ¨èæŒ‰é’®
- æ·»åŠ éš¾åº¦ç­›é€‰
- æ·»åŠ è‡ªå®šä¹‰è¯¾é¢˜åŠŸèƒ½

**å®æ–½æ–‡ä»¶**ï¼š
- `apps/api/server/routes/topics.py` - å®Œæ•´é‡å†™
- `apps/api/server/services/recommendation_engine.py` - æ¨èå¼•æ“
- `apps/api/server/db/models.py` - æ·»åŠ  Topic æ¨¡å‹

**é¢„ä¼°å·¥ä½œé‡**ï¼š10-14 å°æ—¶

---

#### 9. åŠ¨æ€å­¦ä¹ è·¯çº¿å›¾ç”Ÿæˆ

**ç”Ÿæˆç®—æ³•**ï¼š
- åŸºäºè¯¾é¢˜å†…å®¹
- åŸºäºç”¨æˆ·å½“å‰æ°´å¹³
- åŸºäºè®ºæ–‡éš¾åº¦æ›²çº¿
- AI ç”Ÿæˆä¸ªæ€§åŒ–è®¡åˆ’

**åç«¯ API**ï¼š
```
POST /roadmap/generate - ç”Ÿæˆè·¯çº¿å›¾
  è¯·æ±‚ä½“ï¼š{
    "topic_id": 123,
    "current_level": "intermediate",
    "available_hours_per_week": 10,
    "duration_weeks": 12,
    "focus_areas": ["theory", "applications"]
  }

  å“åº”ï¼š{
    "roadmap": {
      "id": 456,
      "title": "æ‹“æ‰‘ç©ºé—´ä¸åŠ¨ç‚¹å®šç†å­¦ä¹ è·¯çº¿",
      "duration_weeks": 12,
      "stages": [
        {
          "stage_number": 1,
          "title": "åŸºç¡€çŸ¥è¯†è¡¥å……",
          "start_week": 1,
          "end_week": 2,
          "items": [
            {
              "title": "æ³›å‡½åˆ†æåŸºç¡€",
              "description": "å­¦ä¹  Banach ç©ºé—´å’Œ Hilbert ç©ºé—´",
              "estimated_hours": 8,
              "resources": [
                {"type": "book", "title": "æ³›å‡½åˆ†æ", "url": "..."},
                {"type": "paper", "arxiv_id": "..."}
              ]
            }
          ]
        }
      ]
    }
  }

GET /roadmap - è·å–æˆ‘çš„è·¯çº¿å›¾åˆ—è¡¨
GET /roadmap/{id} - è·å–è·¯çº¿å›¾è¯¦æƒ…
PUT /roadmap/{id}/progress - æ›´æ–°è¿›åº¦
PATCH /roadmap/items/{id}/complete - æ ‡è®°é¡¹ç›®å®Œæˆ
```

**ç”Ÿæˆæµç¨‹**ï¼š
1. åˆ†æè¯¾é¢˜å…³é”®æ¦‚å¿µ
2. æœç´¢ç›¸å…³æ•™æå’Œè®ºæ–‡
3. ä½¿ç”¨ AI ç”Ÿæˆå­¦ä¹ è®¡åˆ’
4. æ ¹æ®ç”¨æˆ·æ°´å¹³è°ƒæ•´éš¾åº¦
5. åˆ†é…æ—¶é—´å’Œèµ„æº

**å‰ç«¯ä¿®æ”¹**ï¼š
- `apps/web/app/roadmap/page.tsx` - è¿æ¥çœŸå® API
- æ·»åŠ è¿›åº¦è¿½è¸ª
- æ·»åŠ èµ„æºé“¾æ¥
- æ·»åŠ å®Œæˆæ ‡è®°

**å®æ–½æ–‡ä»¶**ï¼š
- `apps/api/server/routes/roadmap.py` - å®Œæ•´é‡å†™
- `apps/api/server/services/roadmap_generator.py` - è·¯çº¿å›¾ç”Ÿæˆå™¨
- `apps/api/server/db/models.py` - æ·»åŠ  Roadmap ç›¸å…³æ¨¡å‹

**é¢„ä¼°å·¥ä½œé‡**ï¼š12-16 å°æ—¶

---

#### 10. ä½¿ç”¨ç»Ÿè®¡å’Œåˆ†æ

**ç»Ÿè®¡æŒ‡æ ‡**ï¼š
- çœŸå®ä½¿ç”¨å¤©æ•°ï¼ˆåŸºäºç™»å½•è®°å½•ï¼‰
- æ‰“å¡æ¬¡æ•°ï¼ˆä»æ•°æ®åº“æŸ¥è¯¢ï¼‰
- å®Œæˆä»»åŠ¡æ•°ï¼ˆä»æ•°æ®åº“æŸ¥è¯¢ï¼‰
- é˜…è¯»è®ºæ–‡æ•°ï¼ˆä»æ”¶è—è®°å½•ï¼‰
- ç ”ç©¶å…´è¶£æ•°ï¼ˆä»æ•°æ®åº“æŸ¥è¯¢ï¼‰
- ç”Ÿæˆè·¯çº¿æ•°ï¼ˆä»æ•°æ®åº“æŸ¥è¯¢ï¼‰
- å¹³å‡å®Œæˆç‡ï¼ˆè®¡ç®—ä»»åŠ¡å®Œæˆç‡ï¼‰

**åç«¯ API**ï¼š
```
GET /stats/overview - è·å–æ€»ä½“ç»Ÿè®¡
GET /stats/daily - è·å–æ¯æ—¥æ•°æ®
GET /stats/weekly - è·å–æ¯å‘¨æ•°æ®
GET /stats/monthly - è·å–æ¯æœˆæ•°æ®
GET /stats/achievements - è·å–æˆå°±å¾½ç« 
POST /analytics/track - è¿½è¸ªç”¨æˆ·è¡Œä¸º
```

**æˆå°±ç³»ç»Ÿ**ï¼š
- é¦–æ¬¡æ‰“å¡
- è¿ç»­æ‰“å¡ 7 å¤©
- è¿ç»­æ‰“å¡ 30 å¤©
- å®Œæˆ 10 ä¸ªä»»åŠ¡
- å®Œæˆ 100 ä¸ªä»»åŠ¡
- æ”¶è— 50 ç¯‡è®ºæ–‡
- å®Œæˆä¸€ä¸ªè·¯çº¿å›¾

**å‰ç«¯ä¿®æ”¹**ï¼š
- `apps/web/app/stats/page.tsx` - è¿æ¥çœŸå® API
- `apps/web/lib/analytics.ts` - æ›´æ–°ä¸ºåç«¯è¿½è¸ª
- ç§»é™¤ç¡¬ç¼–ç æ•°æ®

**å®æ–½æ–‡ä»¶**ï¼š
- `apps/api/server/routes/stats.py` - æ–°å»ºç»Ÿè®¡ç«¯ç‚¹
- `apps/api/server/services/analytics.py` - åˆ†ææœåŠ¡
- `apps/api/server/db/models.py` - æ·»åŠ  UserActivity æ¨¡å‹

**é¢„ä¼°å·¥ä½œé‡**ï¼š6-8 å°æ—¶

---

### ç¬¬å››é˜¶æ®µï¼šä¼˜åŒ–å’Œå¢å¼ºï¼ˆ2-3å¤©ï¼‰

#### 11. æ•°æ®å¯¼å‡ºï¼ˆçœŸå®å®ç°ï¼‰

**æ”¯æŒæ ¼å¼**ï¼š
- JSONï¼šå®Œæ•´æ•°æ®å¯¼å‡º
- CSVï¼šä»»åŠ¡ã€æ‰“å¡ã€è®ºæ–‡åˆ—è¡¨
- PDFï¼šå­¦ä¹ æŠ¥å‘Šï¼ˆéœ€è¦ PDF ç”Ÿæˆåº“ï¼‰

**åç«¯ API**ï¼š
```
GET /export/json - å¯¼å‡º JSON
GET /export/csv/tasks - å¯¼å‡ºä»»åŠ¡ CSV
GET /export/csv/checkins - å¯¼å‡ºæ‰“å¡ CSV
GET /export/csv/papers - å¯¼å‡ºè®ºæ–‡ CSV
GET /export/pdf/report - ç”Ÿæˆå­¦ä¹ æŠ¥å‘Š PDF
```

**PDF æŠ¥å‘Šå†…å®¹**ï¼š
- ç”¨æˆ·åŸºæœ¬ä¿¡æ¯
- è®¢é˜…çŠ¶æ€
- ç»Ÿè®¡æ•°æ®
- ä»»åŠ¡åˆ—è¡¨
- æ‰“å¡è®°å½•
- æ”¶è—è®ºæ–‡
- å­¦ä¹ è·¯çº¿å›¾

**å®æ–½æ–‡ä»¶**ï¼š
- `apps/api/server/routes/export.py` - æ–°å»ºå¯¼å‡ºç«¯ç‚¹
- `apps/api/server/services/pdf_generator.py` - PDF ç”ŸæˆæœåŠ¡
- `apps/web/app/export/page.tsx` - è¿æ¥çœŸå® API

**ä¾èµ–åº“**ï¼š
- `reportlab` æˆ– `weasyprint`ï¼ˆPDF ç”Ÿæˆï¼‰

**é¢„ä¼°å·¥ä½œé‡**ï¼š4-6 å°æ—¶

---

#### 12. Stripe æ”¯ä»˜é›†æˆå¢å¼º

**å¢å¼ºåŠŸèƒ½**ï¼š
- å°†è®¢é˜…ä¿¡æ¯åŒæ­¥åˆ°æ•°æ®åº“
- Webhook äº‹ä»¶å¤„ç†
- è®¢é˜…çŠ¶æ€è‡ªåŠ¨æ›´æ–°
- å‘ç¥¨ç®¡ç†
- æ”¯ä»˜å†å²

**å®æ–½æ–‡ä»¶**ï¼š
- `apps/api/server/routes/payments.py` - å¢å¼ºç°æœ‰åŠŸèƒ½
- `apps/api/server/services/stripe_service.py` - Stripe æœåŠ¡å±‚
- `apps/api/server/db/models.py` - æ›´æ–° Subscription æ¨¡å‹

**é¢„ä¼°å·¥ä½œé‡**ï¼š3-4 å°æ—¶

---

## ğŸ“Š å·¥ä½œé‡æ€»ç»“

| é˜¶æ®µ | é¢„ä¼°æ—¶é—´ | ä¸»è¦ä»»åŠ¡ |
|------|---------|---------|
| ç¬¬ä¸€é˜¶æ®µ | 1-2å¤© | æ•°æ®åº“è®¾è®¡ã€ç”¨æˆ·è®¤è¯ |
| ç¬¬äºŒé˜¶æ®µ | 3-5å¤© | ä»»åŠ¡ç®¡ç†ã€æ‰“å¡ã€èµ„æ–™ã€è®ºæ–‡æ”¶è— |
| ç¬¬ä¸‰é˜¶æ®µ | 5-7å¤© | AI è®ºæ–‡åˆ†æã€æ¨èã€è·¯çº¿å›¾ã€ç»Ÿè®¡ |
| ç¬¬å››é˜¶æ®µ | 2-3å¤© | æ•°æ®å¯¼å‡ºã€æ”¯ä»˜å¢å¼ºã€æµ‹è¯•ä¼˜åŒ– |
| **æ€»è®¡** | **11-17å¤©** | å…¨åŠŸèƒ½å®ç° |

---

## ğŸ› ï¸ æŠ€æœ¯ä¾èµ–

### Python åç«¯ä¾èµ–

```bash
# ç°æœ‰
fastapi
uvicorn
arxiv
stripe
httpx

# æ–°å¢
sqlalchemy  # ORM
alembic  # æ•°æ®åº“è¿ç§»
pydantic  # æ•°æ®éªŒè¯
python-jose[cryptography]  # JWT
passlib[bcrypt]  # å¯†ç åŠ å¯†
python-multipart  # æ–‡ä»¶ä¸Šä¼ 
aiofiles  # å¼‚æ­¥æ–‡ä»¶æ“ä½œ

# AI æœåŠ¡ï¼ˆé€‰æ‹©å…¶ä¸€ï¼‰
openai  # OpenAI API
anthropic  # Claude API

# PDF å¤„ç†
pypdf2  # PDF è¯»å–
reportlab  # PDF ç”Ÿæˆ
# æˆ– weasyprint

# å¯é€‰
redis  # ç¼“å­˜
celery  # å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—
```

### å‰ç«¯ä¾èµ–

```bash
# ç°æœ‰
next
react
typescript
tailwindcss
framer-motion
@stripe/stripe-js

# å¯èƒ½éœ€è¦æ–°å¢
axios  # HTTP å®¢æˆ·ç«¯
react-query  # æ•°æ®è·å–å’Œç¼“å­˜
zustand  # çŠ¶æ€ç®¡ç†
react-hook-form  # è¡¨å•å¤„ç†
zod  # è¡¨å•éªŒè¯
date-fns  # æ—¥æœŸå¤„ç†
recharts  # å›¾è¡¨åº“ï¼ˆå¦‚æœéœ€è¦æ›´å¥½çš„ç»Ÿè®¡å›¾è¡¨ï¼‰
```

---

## ğŸ” ç¯å¢ƒå˜é‡é…ç½®

### åç«¯ï¼ˆapps/api/.envï¼‰

```bash
# æ•°æ®åº“
DATABASE_URL=sqlite:///./mrp.db
# æˆ– PostgreSQL
# DATABASE_URL=postgresql://user:pass@localhost/mrp_db

# JWT è®¤è¯
SECRET_KEY=your-secret-key-here
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Stripeï¼ˆç°æœ‰ï¼‰
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx
STRIPE_PRICE_MONTHLY=price_xxx
STRIPE_PRICE_YEARLY=price_xxx
STRIPE_PRICE_LIFETIME=price_xxx

# AI æœåŠ¡ï¼ˆé€‰æ‹©å…¶ä¸€ï¼‰
OPENAI_API_KEY=sk-xxx
# æˆ–
ANTHROPIC_API_KEY=sk-ant-xxx

# CORS
CORS_ORIGINS=http://localhost:3000,https://your-domain.com

# å…¶ä»–
ENVIRONMENT=development  # æˆ– production
LOG_LEVEL=INFO
```

### å‰ç«¯ï¼ˆapps/web/.env.localï¼‰

```bash
# API åç«¯
NEXT_PUBLIC_API_BASE=http://localhost:8000

# Stripe
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxx

# å…¶ä»–
NEXT_PUBLIC_APP_NAME=æ•°å­¦ç ”ç©¶åŠ©æ‰‹
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

---

## ğŸš€ å®æ–½å»ºè®®

### æ¨èçš„å®æ–½é¡ºåº

#### ä¼˜å…ˆçº§ 1ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰ï¼š
1. æ•°æ®åº“è®¾è®¡
2. ç”¨æˆ·è®¤è¯
3. ä»»åŠ¡ç®¡ç†
4. æ‰“å¡ç³»ç»Ÿ
5. ç”¨æˆ·èµ„æ–™

**ç†ç”±**ï¼šè¿™äº›æ˜¯æœ€åŸºç¡€çš„åŠŸèƒ½ï¼Œç”¨æˆ·æ¯å¤©éƒ½ä¼šä½¿ç”¨

#### ä¼˜å…ˆçº§ 2ï¼ˆæ™ºèƒ½åŠŸèƒ½ï¼‰ï¼š
6. æ™ºèƒ½è®ºæ–‡åˆ†æ
7. è®ºæ–‡æ”¶è—
8. ä½¿ç”¨ç»Ÿè®¡

**ç†ç”±**ï¼šå¢å¼ºç”¨æˆ·ä½“éªŒï¼Œæä¾›æ ¸å¿ƒä»·å€¼

#### ä¼˜å…ˆçº§ 3ï¼ˆé«˜çº§åŠŸèƒ½ï¼‰ï¼š
9. æ™ºèƒ½æ¨è
10. è·¯çº¿å›¾ç”Ÿæˆ
11. æ•°æ®å¯¼å‡º
12. æ”¯ä»˜å¢å¼º

**ç†ç”±**ï¼šé”¦ä¸Šæ·»èŠ±çš„åŠŸèƒ½

---

## ğŸ’° æˆæœ¬ä¼°ç®—

### AI API æˆæœ¬

**OpenAI GPT-4**ï¼š
- è®ºæ–‡åˆ†æï¼šçº¦ $0.03-0.10 /æ¬¡
- æ¨èç”Ÿæˆï¼šçº¦ $0.02-0.05 /æ¬¡
- è·¯çº¿å›¾ç”Ÿæˆï¼šçº¦ $0.05-0.15 /æ¬¡

**Claude 3.5 Sonnet**ï¼š
- è®ºæ–‡åˆ†æï¼šçº¦ $0.015-0.06 /æ¬¡ï¼ˆæ›´é€‚åˆé•¿æ–‡æœ¬ï¼‰
- æ¨èç”Ÿæˆï¼šçº¦ $0.01-0.03 /æ¬¡
- è·¯çº¿å›¾ç”Ÿæˆï¼šçº¦ $0.03-0.10 /æ¬¡

**æœˆåº¦æˆæœ¬ä¼°ç®—**ï¼ˆå‡è®¾ 100 æ´»è·ƒç”¨æˆ·ï¼‰ï¼š
- æ¯ç”¨æˆ·æ¯æœˆ 5 æ¬¡è®ºæ–‡åˆ†æ
- æ¯ç”¨æˆ·æ¯æœˆ 3 æ¬¡æ¨èç”Ÿæˆ
- æ¯ç”¨æˆ·æ¯æœˆ 1 æ¬¡è·¯çº¿å›¾ç”Ÿæˆ

**æ€»æˆæœ¬**ï¼šçº¦ $50-150 /æœˆ

**ä¼˜åŒ–å»ºè®®**ï¼š
- å®ç°ç¼“å­˜æœºåˆ¶ï¼ˆç›¸åŒè®ºæ–‡ä¸é‡å¤åˆ†æï¼‰
- é™åˆ¶å…è´¹ç”¨æˆ·ä½¿ç”¨æ¬¡æ•°
- ä»˜è´¹ç”¨æˆ·æ— é™åˆ¶ä½¿ç”¨

---

## ğŸ“ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

è¯·å›ç­”ä»¥ä¸‹é—®é¢˜ï¼Œæˆ‘å°†æ®æ­¤å¼€å§‹å®æ–½ï¼š

1. **ä¼˜å…ˆçº§é€‰æ‹©**ï¼š
   - [ ] å…¨éƒ¨ä¸€èµ·å®ç°ï¼ˆ11-17å¤©ï¼‰
   - [ ] åˆ†é˜¶æ®µå®æ–½ï¼ˆè¯·é€‰æ‹©å…ˆå®æ–½å“ªä¸ªé˜¶æ®µï¼‰
   - [ ] åªå®æ–½ç‰¹å®šåŠŸèƒ½ï¼ˆè¯·åˆ—å‡ºï¼‰

2. **æ•°æ®åº“é€‰æ‹©**ï¼š
   - [ ] SQLiteï¼ˆç®€å•ï¼Œé€‚åˆå¼€å‘å’Œå°è§„æ¨¡ï¼‰
   - [ ] PostgreSQLï¼ˆæ¨èï¼Œé€‚åˆç”Ÿäº§ï¼‰

3. **AI æœåŠ¡é€‰æ‹©**ï¼š
   - [ ] OpenAI GPT-4ï¼ˆé€šç”¨æ€§å¥½ï¼‰
   - [ ] Claude 3.5 Sonnetï¼ˆé•¿æ–‡æœ¬æ›´å¥½ï¼‰
   - [ ] æš‚ä¸å®æ–½ AI åŠŸèƒ½

4. **è®¤è¯æ–¹å¼**ï¼š
   - [ ] JWT Tokenï¼ˆæ¨èï¼‰
   - [ ] Session Cookie
   - [ ] OAuthï¼ˆGoogle/GitHub ç™»å½•ï¼‰

5. **éƒ¨ç½²æ–¹å¼**ï¼š
   - [ ] Docker Composeï¼ˆæ¨èï¼‰
   - [ ] ç‹¬ç«‹éƒ¨ç½²
   - [ ] äº‘æœåŠ¡ï¼ˆå¦‚ Railwayã€Vercelï¼‰

è¯·å‘Šè¯‰æˆ‘æ‚¨çš„é€‰æ‹©ï¼Œæˆ‘å°†ç«‹å³å¼€å§‹å®æ–½ï¼
